<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>{{title}}</title>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#3B82F6',
              secondary: '#10B981',
              accent: '#F59E0B',
              danger: '#EF4444',
              success: '#10B981',
              warning: '#F59E0B',
              info: '#3B82F6'
            }
          }
        }
      }
    </script>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <!-- 사이드바 -->
      <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
        <div class="lg:col-span-1">
          <div class="bg-white rounded-lg shadow-lg p-6 sticky top-6">
            {% if user and user.id %}
              <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center">
                  <span class="text-white text-xl font-bold">{{user.nick|first|upper}}</span>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">안녕하세요 {{user.nick}}님</h3>
                <div class="text-sm text-gray-600 mb-4">보유 자산: <span class="font-bold text-green-600">{{user.money}}원</span></div>
              </div>
              
              <div class="space-y-3">
				<a
                                href="/?a"
                                id="home"
                                class="w-full bg-neutral-500 hover:bg-neutral-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="lucide lucide-house-icon lucide-house"
                                >
                                    <path
                                        d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"
                                    />
                                    <path
                                        d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                                    />
                                </svg>
                                홈으로
                            </a>
                <a href="/auth/logout" id="logout" class="w-full bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                  </svg>
                  로그아웃
                </a>
                <a href="/good" id="register" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                  </svg>
                  상품 등록
                </a>
                <a href="/list" id="list" class="w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                  </svg>
                  낙찰 내역
                </a>
              </div>
              
              <input type="hidden" id="my-id" value="{{user.id}}">
            {% else %}
              <div class="text-center mb-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">로그인</h3>
              </div>
              
              <form action="/auth/login" id="login-form" method="post" class="space-y-4">
                <div>
                  <label for="email" class="block text-sm font-medium text-gray-700 mb-1">이메일</label>
                  <input type="email" id="email" name="email" required autofocus 
                         class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div>
                  <label for="password" class="block text-sm font-medium text-gray-700 mb-1">비밀번호</label>
                  <input type="password" id="password" name="password" required 
                         class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div class="flex space-x-2">
                  <a href="/join" id="join" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 text-center">
                    회원가입
                  </a>
                  <button id="login" type="submit" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200">
                    로그인
                  </button>
                </div>
              </form>
            {% endif %}
            
            <footer class="mt-8 pt-6 border-t border-gray-200 text-center">
              <p class="text-sm text-gray-500">
                Made with ❤️ by <a href="#" class="text-blue-600 hover:text-blue-800 font-medium">hancom</a>
              </p>
            </footer>
          </div>
          
          {% block good %}
          {% endblock %}
        </div>
        
        <!-- 메인 콘텐츠 -->
        <div class="lg:col-span-3">
          {% block content %}
          {% endblock %}
        </div>
      </div>
    </div>
    
    <script>
      window.onload = () => {
        if (new URL(location.href).searchParams.get('error')) {
          alert(new URL(location.href).searchParams.get('error'));
        }
      };
    </script>
  </body>
</html>
